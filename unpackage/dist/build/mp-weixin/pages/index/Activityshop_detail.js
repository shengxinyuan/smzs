(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/Activityshop_detail"],{"277b":function(t,e,i){},"2bec":function(t,e,i){},"6cd5":function(t,e,i){"use strict";var o=i("2bec"),s=i.n(o);s.a},ad57:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{isShow:!1,config:{centerSlot:!0,barPlaceholder:!1,backgroundColor:[0,"#ffffff"],slideBackgroundColor:[1,"#ffffff"]},value:1,shop_num:1,vip_type:!1,shop_type:0,jg_ind:"",bgcolor:"",opacity:0,head_ind:0,specClass:"none",specSelected:[],swiperCurrent:0,favorite:!0,shareList:[],imgList:[],headlist:[{name:"商品"},{name:"评价"},{name:"详情"},{name:"推荐"}],pingl:0,tuij:0,detail_shop:0,shop_id:0,shop_det:"",stynumber:[],shop_list:"",member:"",shopsku:"",detail_type:0,sku_ids:"",details:"",shop_id_goods:"",type_shop:0,second:0,cantuan:0,pi_group:"",commentlist:"",autoplay:!1,return_top:!1,videoShow:!1,skuShow:!1,stocks:1}},onPageScroll:function(t){this.$refs.hxnb.pageScroll(t),t.scrollTop>50?this.isShow=!0:this.isShow=!1,t.scrollTop>=this.pingl&&t.scrollTop<=this.detail_shop?this.head_ind=1:t.scrollTop>this.tuij?this.head_ind=3:t.scrollTop>=this.detail_shop&&t.scrollTop<=this.tuij?this.head_ind=2:0==t.scrollTop&&(this.head_ind=0)},computed:{},mounted:function(){var e=this,i=t.createSelectorQuery();i.select("#evaluate").boundingClientRect((function(t){e.pingl=t.top-100})).exec(),i.select("#tuijina").boundingClientRect((function(t){e.tuij=t.top-100})).exec(),i.select("#detail").boundingClientRect((function(t){e.detail_shop=t.top-100})).exec()},onShow:function(){},onLoad:function(e){this.shop_id=e.shop_id,this.detail_type=e.type,console.log(this.detail_type),e.second&&(this.second=e.second),this.member=t.getStorageSync("member_info"),console.log(this.member);var i=t.getStorageSync("viptype");console.log(i),this.vip_type=!!i,this.page_render()},methods:{ZhanTing:function(){1==this.autoplay&&(this.autoplay=!1)},zanting:function(){this.videoShow=!1},valChange:function(t){this.shop_num=t.value},page_render:function(){var t=this;this.$api.get("activity/"+this.shop_id+"&type="+this.detail_type).then((function(e){console.log(e),1==e.status&&(t.shop_det=e.data,t.shoptype_id=e.data.id,console.log(t.shoptype_id),t.shop_id_goods=e.data.goods_id,t.stynumber=[{name:"款号",num:e.data.model_no},{name:"销量",num:e.data.sale},{name:"库存",num:e.data.stock},{name:"成色",num:e.data.texture},{name:"克重",num:e.data.min_g+"-"+e.data.max_g}],t.sku())})),this.$api.post("goods",{is_recommend:1}).then((function(e){1==e.status&&(t.shop_list=e.data.data)})),this.$api.get("commentlist/"+this.shop_id).then((function(e){console.log(e),1==e.status&&(t.commentlist=e.data)})),this.$api.get("group",{id:this.shop_id,member_id:this.member.id||0}).then((function(e){console.log(e),t.pi_group=e.data,console.log(t.pi_group)}))},sku:function(){var t=this;console.log(this.type_shop),this.$api.get("sku",{type:this.type_shop,id:this.shoptype_id}).then((function(e){console.log(e),1==e.status&&(t.shopsku=e.data,t.details=e.data.data)}))},shop_pay:function(){if(this.shop_num>this.stock)this.com.msg("库存不足~");else if(0==this.shop_type){var t={goods_id:this.shop_id_goods,sku_id:this.jg_ind,count:this.shop_num,type:0};if(""==this.jg_ind)return void this.com.msg("请选择规格");this.com.navto("../vip-confirm-order/vip-confirm-order?data="+JSON.stringify(t)),this.toggleSpec()}else{var e={goods_id:this.shop_id,sku_id:this.jg_ind,count:this.shop_num,type:1,activity:this.detail_type,kaituan:this.shop_det.activity_id,cantuan:this.cantuan};if(""==this.jg_ind)return void this.com.msg("请选择规格");this.toggleSpec(),console.log(JSON.stringify(e)),this.com.navto("../vip-confirm-order/vip-confirm-order?data="+JSON.stringify(e))}},go_single:function(t){this.cantuan=t,this.shoptype_id=this.shop_det.id,this.type_shop=1,this.shop_type=1,this.sku()},zhifu:function(t){this.value=1,this.jg_ind=t.id,this.stock=t.stock,this.sticks=t.stock,console.log(this.stock)},goto_cart:function(){this.com.rel("../cart/cart")},goto_page:function(t){this.com.navto(t)},head_nav_cli:function(e){this.head_ind=e;var i=this;0==e?t.pageScrollTo({scrollTop:160,duration:200}):1==e?t.pageScrollTo({scrollTop:i.pingl,duration:200}):2==e?t.pageScrollTo({scrollTop:i.detail_shop,duration:200}):3==e&&(console.log(e),t.pageScrollTo({scrollTop:i.tuij,duration:200}))},swiperChange:function(t){this.swiperCurrent=t.detail.current},banner_cli:function(e){if(this.shop_det.video)if(0==e)this.videoShow=!0;else{var i=[];this.shop_det.album.forEach((function(t,e){0!=e&&i.push(t.img0)})),t.previewImage({urls:i,loop:!0})}else{var o=[];this.shop_det.album.forEach((function(t,e){o.push(t.img0)})),t.previewImage({urls:o,loop:!0})}},payment_yes:function(t){1==this.detail_type&&(0==t&&(this.type_shop=t,this.shop_type=t,this.shoptype_id=this.shop_id_goods,this.sku(),this.skuShow=!0),1==t&&(this.type_shop=t,this.shop_type=t,this.shoptype_id=this.shop_det.id,this.sku(),this.skuShow=!0)),2==this.detail_type&&1==t&&(this.type_shop=t,this.shop_type=t,this.shoptype_id=this.shop_det.id,this.sku(),this.skuShow=!0)},goto_top:function(){t.navigateBack()},toggleSpec:function(){},selectSpec:function(t,e,i){var o=this,s=this.shopsku.title[t];console.log(s),s.data.forEach((function(t){t.pid===i&&o.$set(t,"selected",!1)})),this.$set(s.data[e],"selected",!0),this.specSelected="",this.shopsku.title.forEach((function(t){t.data.forEach((function(t){if(1==t.selected){o.specSelected+=t.id+",";var e="";o.sku_ids=o.specSelected.substr(0,o.specSelected.length-1),e=o.sku_ids.replace(/\,/g,""),console.log(o.sku_ids),o.shopsku.title.length==e.length&&o.$api.get("sku",{type:o.type_shop,id:o.shoptype_id,sku_ids:o.sku_ids}).then((function(t){console.log(t),1==t.status&&(o.details=t.data.data)}))}}))}))},share:function(){this.$refs.share.toggleMask()},buy:function(){t.navigateTo({url:"/pages/order/createOrder"})},stopPrevent:function(){},like_collect:function(){this.com.rel("../index/index")}}};e.default=i}).call(this,i("543d")["default"])},c8e7:function(t,e,i){"use strict";i.r(e);var o=i("ad57"),s=i.n(o);for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);e["default"]=s.a},cc2d:function(t,e,i){"use strict";var o=i("277b"),s=i.n(o);s.a},d255:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return o}));var o={zsHxNavbar:function(){return i.e("components/zs-hx-navbar/zs-hx-navbar").then(i.bind(null,"c109"))},uCountDown:function(){return i.e("uview-ui/components/u-count-down/u-count-down").then(i.bind(null,"04c9"))},uIcon:function(){return i.e("uview-ui/components/u-icon/u-icon").then(i.bind(null,"c93f"))},uParse:function(){return Promise.all([i.e("common/vendor"),i.e("uview-ui/components/u-parse/u-parse")]).then(i.bind(null,"5073"))},zsShoppingList:function(){return i.e("components/zs-shopping-list/zs-shopping-list").then(i.bind(null,"3b6a"))},uPopup:function(){return i.e("uview-ui/components/u-popup/u-popup").then(i.bind(null,"dc81"))},uNumberBox:function(){return i.e("uview-ui/components/u-number-box/u-number-box").then(i.bind(null,"e4913"))},zsShare:function(){return i.e("components/zs-share/zs-share").then(i.bind(null,"d930"))}},s=function(){var t=this,e=t.$createElement,i=(t._self._c,t.__map(t.details,(function(e,i){var o=t.__get_orig(e),s=(e.weight/1).toFixed(2),n=(e.labor/1/(e.weight/1)).toFixed(2);return{$orig:o,g0:s,g1:n}})));t.$mp.data=Object.assign({},{$root:{l0:i}})},n=[]},dd39:function(t,e,i){"use strict";i.r(e);var o=i("d255"),s=i("c8e7");for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("cc2d"),i("6cd5");var a,c=i("f0c5"),u=Object(c["a"])(s["default"],o["b"],o["c"],!1,null,"48927d0c",null,!1,o["a"],a);e["default"]=u.exports},f38d:function(t,e,i){"use strict";(function(t){i("4963");o(i("66fd"));var e=o(i("dd39"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("543d")["createPage"])}},[["f38d","common/runtime","common/vendor"]]]);