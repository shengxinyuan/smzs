(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/shop_detail"],{"1c81":function(t,e,o){"use strict";(function(t){o("4963");i(o("66fd"));var e=i(o("6f1c"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=o,t(e.default)}).call(this,o("543d")["createPage"])},"2bd6":function(t,e,o){"use strict";o.r(e);var i=o("d924"),n=o.n(i);for(var s in i)"default"!==s&&function(t){o.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"6f1c":function(t,e,o){"use strict";o.r(e);var i=o("cf30"),n=o("2bd6");for(var s in n)"default"!==s&&function(t){o.d(e,t,(function(){return n[t]}))}(s);o("7672"),o("9828");var a,c=o("f0c5"),u=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"3807ca81",null,!1,i["a"],a);e["default"]=u.exports},7672:function(t,e,o){"use strict";var i=o("8522"),n=o.n(i);n.a},8458:function(t,e,o){},8522:function(t,e,o){},9828:function(t,e,o){"use strict";var i=o("8458"),n=o.n(i);n.a},cf30:function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return s})),o.d(e,"a",(function(){return i}));var i={zsHxNavbar:function(){return o.e("components/zs-hx-navbar/zs-hx-navbar").then(o.bind(null,"c109"))},uIcon:function(){return o.e("uview-ui/components/u-icon/u-icon").then(o.bind(null,"c93f"))},uParse:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-parse/u-parse")]).then(o.bind(null,"5073"))},zsShoppingList:function(){return o.e("components/zs-shopping-list/zs-shopping-list").then(o.bind(null,"3b6a"))},uPopup:function(){return o.e("uview-ui/components/u-popup/u-popup").then(o.bind(null,"dc81"))},uNumberBox:function(){return o.e("uview-ui/components/u-number-box/u-number-box").then(o.bind(null,"e4913"))},zsShare:function(){return o.e("components/zs-share/zs-share").then(o.bind(null,"d930"))}},n=function(){var t=this,e=t.$createElement,o=(t._self._c,t.vip_type?null:(t.shop_det.price-t.shop_det.price_vip).toFixed(2)),i=t.__map(t.details,(function(e,o){var i=t.__get_orig(e),n=(e.weight/1).toFixed(2),s=t.vip_type?(e.vip_labor/1/(e.weight/1)).toFixed(2):null,a=t.vip_type?null:(e.normal_labor/1/(e.weight/1)).toFixed(2);return{$orig:i,g1:n,g2:s,g3:a}}));t.$mp.data=Object.assign({},{$root:{g0:o,l0:i}})},s=[]},d924:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{isShow:!1,config:{centerSlot:!0,barPlaceholder:!1,backgroundColor:[0,"#ffffff"],slideBackgroundColor:[1,"#ffffff"],rightButton:[{key:"btn1",icon:"&#xe6eb;",position:"left"}]},value:1,shop_num:1,vip_type:!1,shop_type:0,jg_ind:"",bgcolor:"",opacity:0,head_ind:0,specClass:"none",specSelected:[],swiperCurrent:0,favorite:!0,shareList:[],imgList:[],headlist:[{name:"商品"},{name:"评价"},{name:"详情"},{name:"推荐"}],pingl:0,tuij:0,detail_shop:0,shop_id:0,shop_det:"",stynumber:[],shop_list:"",member:"",shopsku:"",shoptype_id:"",sku_ids:"",details:"",commentlist:"",autoplay:!1,return_top:!1,videoShow:!1,stock:0,skuShow:!1,stocks:1,isLogin:!1,sw_autoplay:!0,previewImage:""}},onPageScroll:function(t){this.$refs.hxnb.pageScroll(t),t.scrollTop>50?this.isShow=!0:this.isShow=!1,t.scrollTop>=this.pingl&&t.scrollTop<this.detail_shop?this.head_ind=1:t.scrollTop>=this.detail_shop&&t.scrollTop<this.tuij?this.head_ind=2:t.scrollTop>=this.tuij?this.head_ind=3:0==t.scrollTop&&(this.head_ind=0)},onLoad:function(e){var o=t.getStorageSync("token");this.isLogin=!!o,console.log(e),this.shop_id=e.shop_id,this.member=t.getStorageSync("member_info");var i=t.getStorageSync("viptype");this.vip_type=!!i,this.page_render()},onShow:function(){},methods:{onClickBtn:function(t){"btn1"==t.key&&this.share()},stop_video:function(){this.videoShow=!1,this.sw_autoplay=!0},end_video:function(){this.videoShow=!1,this.sw_autoplay=!0},onc_bj:function(t){plus.runtime.openURL("https://uland.taobao.com/sem/tbsearch?refpid=mm_26632258_3504122_32538762&keyword="+t)},valChange:function(t){console.log("当前值为: "+t.value),this.shop_num=t.value},page_render:function(){var t=this,e=this.member.id||0;this.$api.get("goods/"+this.shop_id+"&member_id="+e).then((function(e){1==e.status&&(t.shop_det=e.data,console.log(t.shop_det),t.shoptype_id=e.data.id,t.stynumber=[{name:"款号",num:e.data.model_no},{name:"库存",num:e.data.stock},{name:"成色",num:e.data.texture},{name:"销量",num:e.data.sale}],t.sku())})),this.$api.post("goods",{is_recommend:1}).then((function(e){1==e.status&&(t.shop_list=e.data.data)})),this.$api.get("commentlist/"+this.shop_id).then((function(e){1==e.status&&(t.commentlist=e.data)}))},like_collect:function(t){var e=this;this.$api.put("collect",{id:t}).then((function(t){1==t.status&&e.page_render()}))},shop_pay:function(e){var o=this;if(!this.isLogin)return this.skuShow=!1,void t.showModal({content:"您还未登录,是否登录?",success:function(t){t.confirm&&o.com.rel("/pages/login/login")},fail:function(){},complete:function(){}});var i={goods_id:this.shop_id,sku_id:this.jg_ind,count:this.shop_num,type:0};""!=this.jg_ind?this.shop_num>this.stock?this.com.msg("库存不足~"):(this.toggleSpec(),1==e?(this.skuShow=!1,this.com.navto("../vip-confirm-order/vip-confirm-order?data="+JSON.stringify(i))):this.$api.post("cart",{shop_goods_id:this.shop_id,count:this.shop_num,shop_goods_sku_id:this.jg_ind}).then((function(t){o.com.msg(t.message),o.skuShow=!1}))):this.com.msg("请选择规格")},zhifu:function(t){console.log(t),this.previewImage=t.image,this.value=1,this.jg_ind=t.id,this.stock=t.stock,this.stocks=t.stock,console.log(this.stocks)},goto_cart:function(){t.redirectTo({url:"../cart/cart"})},goto_page:function(t){this.com.navto(t)},skipIndex:function(){t.redirectTo({url:"./index"})},head_nav_cli:function(e){this.head_ind=e;var o=this;0==e?t.pageScrollTo({scrollTop:160,duration:0,success:function(t){this.head_ind=0}}):1==e?t.pageScrollTo({scrollTop:o.pingl,duration:0,success:function(t){this.head_ind=1}}):2==e?t.pageScrollTo({scrollTop:o.detail_shop,duration:0,success:function(t){this.head_ind=2}}):3==e&&(console.log(e),t.pageScrollTo({scrollTop:o.tuij,duration:200,success:function(t){this.head_ind=3}}))},swiperChange:function(t){this.swiperCurrent=t.detail.current},transition:function(t){this.videoShow=!1,this.sw_autoplay=!0},banner_cli:function(e){if(this.shop_det.video)if(0==e)this.videoShow=!0,this.sw_autoplay=!1;else{var o=[];this.shop_det.album.forEach((function(t,e){0!=e&&o.push(t.img0)})),t.previewImage({urls:o,loop:!0})}else{var i=[];this.shop_det.album.forEach((function(t,e){i.push(t.img0)})),t.previewImage({urls:i,loop:!0})}},perview:function(){var e=[];this.details.forEach((function(t,o){e.push(t.image)})),t.previewImage({current:this.previewImage,urls:e,loop:!0})},payment_yes:function(t){this.skuShow=!0,this.shop_type=t,this.sku()},sku:function(){var e=this;this.$api.get("sku",{type:0,id:this.shoptype_id}).then((function(o){console.log(o),1==o.status?(e.shopsku=o.data,e.details=o.data.data,console.log(e.details)):t.showToast({title:o.message,icon:"none"})}))},goto_top:function(){t.navigateBack()},toggleSpec:function(){},selectSpec:function(t,e,o){var i=this,n=this.shopsku.title[t];n.data.forEach((function(t){t.pid===o&&i.$set(t,"selected",!1)})),this.$set(n.data[e],"selected",!0),this.specSelected="",this.shopsku.title.forEach((function(t){t.data.forEach((function(e){if(1==e.selected){i.specSelected+=e.id+",";var o="";i.sku_ids=i.specSelected.substr(0,i.specSelected.length-1),o=i.sku_ids.replace(/\,/g,""),t.data.length==o.length&&i.$api.get("sku",{type:0,id:i.shoptype_id,sku_ids:i.sku_ids}).then((function(t){console.log(t),1==t.status&&(i.details=t.data.data)}))}}))}))},share:function(){this.$refs.share.toggleMask()},shaer_app:function(t){console.log(t),console.log(this.shop_det),console.log(this.shop_id);this.shop_id,this.member.id;1==t?(this.wxShare(),console.log("https://zuanshi.semoh.cn/smsj/index.html#/pages/index/share_shop_detail?shop_id="+this.shop_id)):this.wxShare()},onShareAppMessage:function(){},onShareTimeline:function(){},toFavorite:function(){this.favorite=!this.favorite},buy:function(){t.navigateTo({url:"/pages/order/createOrder"})},stopPrevent:function(){},skipShare:function(){t.navigateTo({url:"./mshare?data="+JSON.stringify(this.shop_det)})}},mounted:function(){var e=this,o=t.createSelectorQuery();o.select("#evaluate").boundingClientRect((function(t){console.log(t),e.pingl=t.top+50})).exec(),o.select("#details_parse").boundingClientRect((function(t){console.log(t),e.detail_shop=t.top+50})).exec(),o.select("#tuijian").boundingClientRect((function(t){console.log(t),e.tuij=t.top+50})).exec()}};e.default=o}).call(this,o("543d")["default"])}},[["1c81","common/runtime","common/vendor"]]]);