<view class="sunui-uploader-bd"><view class="sunui-uploader-files"><block wx:for="{{upload_before_list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><view class="{{['sunui-uploader-file',item.upload_percent<100?'sunui-uploader-file-status':'']}}" style="{{('width:'+upload_img_wh+'rpx; height:'+upload_img_wh+'rpx;')}}"><block wx:if="{{type==='image'}}"><image class="sunui-uploader-img" style="{{('width:'+upload_img_wh+'rpx; height:'+upload_img_wh+'rpx;')}}" src="{{item.path}}" mode="aspectFill" data-event-opts="{{[['tap',[['preview',[index]]]]]}}" bindtap="__e"></image></block><block wx:if="{{type=='video'}}"><video style="{{('width:'+upload_img_wh+'rpx; height:'+upload_img_wh+'rpx;')}}" id="{{'myVideo_'+index}}" src="{{item.path}}" data-index="{{index}}" controls="{{true}}" enable-play-gesture="{{true}}" objectFit="contain" data-event-opts="{{[['play',[['videoPlay',['$event']]]],['error',[['videoError',['$event']]]]]}}" bindplay="__e" binderror="__e"></video></block><view data-event-opts="{{[['tap',[['remove',[index]]]]]}}" hidden="{{!(upimg_move)}}" class="sunui-img-removeicon right" catchtap="__e">x</view><block wx:if="{{item.upload_percent<100}}"><view class="sunui-loader-filecontent">{{item.upload_percent+"%"}}</view></block></view></block></block><view hidden="{{!(upload_before_list.length<upload_count)}}" class="sunui-uploader-inputbox" style="{{('width:'+upload_img_wh+'rpx; height:'+upload_img_wh+'rpx;')}}" hover-class="sunui-uploader-hover" data-event-opts="{{[['tap',[['choose',['$event']]]]]}}" bindtap="__e"><view style="{{('line-height:'+upload_img_wh+'rpx;')}}"><text class="iconfont icon-mn_shangchuantupian" style="color:#666;"></text></view></view></view></view>